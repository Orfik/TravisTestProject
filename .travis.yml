language: java # set desired language

sudo: false
dist: trusty

jdk:
      - oraclejdk8
addons:
apt:
sources:
    - google-chrome
   packages:
    - google-chrome-stable
    - oracle-java8-installer

addons:
   firefox: "52.0.1" # if your project contains tests need to be run on firefox include these lines


before_install:
    - "/sbin/start-stop-daemon --start --quiet --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac -screen 0 1280x1024" # running virtual display on desired port with desired settings
  #- sleep 3


before_script:
  # Selenium server
    - "export DISPLAY=:99.0"
    - "sh -e /etc/init.d/xvfb start"
    - sleep 3
    - java -jar selenium-server-standalone-3.3.0.jar > /dev/null 2>/dev/null & # starting selenium-server
    - sleep 20 # gives enough time to Selenium to start

script:
    #- echo "Extracting firefox and setting PATH variable..."
    #- tar -xjf /tmp/firefox-52.0.1.tar.bz2 --directory /tmp
    #- export PATH="/tmp/firefox:$PATH"
    #- echo "Extracting chrome and setting PATH variable..."
    #- tar -xjf /tmp/firefox-52.0.1.tar.bz2
    - export PATH="/tmp/chrome:$PATH"
    - echo "Using crome version `chrome --version`"
    - chmod +x /home/travis/build/Orfik/TravisTestProject/src/test/resources/chromedriver
    - mvn test
